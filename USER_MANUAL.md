# MotoStep äº§å“ä½¿ç”¨æ‰‹å†Œ

**ç‰ˆæœ¬**: v0.1.0-alpha
**æ›´æ–°æ—¥æœŸ**: 2026-01-30
**äº§å“å®˜ç½‘**: https://github.com/zhaoran30184898-jpg/motostep

---

## ç›®å½•

1. [äº§å“ä»‹ç»](#1-äº§å“ä»‹ç»)
2. [ç³»ç»Ÿè¦æ±‚](#2-ç³»ç»Ÿè¦æ±‚)
3. [å®‰è£…éƒ¨ç½²](#3-å®‰è£…éƒ¨ç½²)
4. [é…ç½®è¯´æ˜](#4-é…ç½®è¯´æ˜)
5. [å¿«é€Ÿå¼€å§‹](#5-å¿«é€Ÿå¼€å§‹)
6. [ä½¿ç”¨æŒ‡å—](#6-ä½¿ç”¨æŒ‡å—)
7. [å·¥ä½œæµç¨‹è¯¦è§£](#7-å·¥ä½œæµç¨‹è¯¦è§£)
8. [é«˜çº§åŠŸèƒ½](#8-é«˜çº§åŠŸèƒ½)
9. [APIå‚è€ƒ](#9-apiå‚è€ƒ)
10. [å¸¸è§é—®é¢˜](#10-å¸¸è§é—®é¢˜)
11. [æ•…éšœæ’é™¤](#11-æ•…éšœæ’é™¤)
12. [é™„å½•](#12-é™„å½•)

---

## 1. äº§å“ä»‹ç»

### 1.1 ä»€ä¹ˆæ˜¯ MotoStepï¼Ÿ

MotoStep æ˜¯ä¸€ä¸ªå…¨è‡ªåŠ¨åŒ–çš„å†…å®¹ç”Ÿäº§æµæ°´çº¿ç³»ç»Ÿï¼Œä¸“é—¨ç”¨äºå°† YouTube è¶Šé‡æ‘©æ‰˜æ•™å­¦è§†é¢‘è½¬åŒ–ä¸ºç¬¦åˆå¾®ä¿¡å…¬ä¼—å·è§„èŒƒçš„æŠ€æœ¯æ•™å­¦æ–‡ç« ï¼Œå¹¶æ”¯æŒè‡ªåŠ¨æ¨é€åˆ°è‰ç¨¿ç®±ã€‚

### 1.2 æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½æ¨¡å— | è¯´æ˜ | çŠ¶æ€ |
|---------|------|------|
| **è§†é¢‘è‡ªåŠ¨ä¸‹è½½** | æ”¯æŒ YouTube è§†é¢‘ä¸‹è½½ï¼ˆ720p/1080pï¼‰ï¼Œè‡ªåŠ¨å¤„ç†å­—å¹• | âœ… å·²å®Œæˆ |
| **AIå†…å®¹åˆ†æ** | é›†æˆ NotebookLM è¿›è¡Œæ·±åº¦è§†é¢‘å†…å®¹åˆ†æ | âœ… å·²å®Œæˆ |
| **å…³é”®åœºæ™¯æå–** | è‡ªåŠ¨è¯†åˆ«å¹¶æå–å…³é”®æŠ€æœ¯æ—¶é—´æˆ³ | âœ… å·²å®Œæˆ |
| **åª’ä½“èµ„äº§ç”Ÿæˆ** | é«˜è´¨é‡ JPG æˆªå›¾ + GIF åŠ¨å›¾è‡ªåŠ¨ç”Ÿæˆ | âœ… å·²å®Œæˆ |
| **æ‰¹é‡æ°´å°æ·»åŠ ** | è‡ªåŠ¨ä¸ºæ‰€æœ‰åª’ä½“æ·»åŠ ç‰ˆæƒæ°´å° | âœ… å·²å®Œæˆ |
| **å¾®ä¿¡å‘å¸ƒé›†æˆ** | ä¸€é”®å‘å¸ƒåˆ°å¾®ä¿¡å…¬ä¼—å·è‰ç¨¿ç®± | ğŸš§ å¼€å‘ä¸­ |

### 1.3 åº”ç”¨åœºæ™¯

- **æ•™å­¦åšä¸»**: å¿«é€Ÿå°†è§†é¢‘æ•™ç¨‹è½¬åŒ–ä¸ºå›¾æ–‡æ•™ç¨‹
- **è‡ªåª’ä½“è¿è¥**: æ‰¹é‡å¤„ç†è§†é¢‘å†…å®¹ï¼Œæé«˜å†…å®¹ç”Ÿäº§æ•ˆç‡
- **æŠ€æœ¯æ–‡æ¡£**: åˆ›å»ºå¸¦æ¼”ç¤ºåŠ¨å›¾çš„æŠ€æœ¯æ–‡æ¡£
- **çŸ¥è¯†ç®¡ç†**: å°†è§†é¢‘å†…å®¹æ•´ç†ä¸ºå¯æœç´¢çš„æ–‡å­—èµ„æ–™

### 1.4 æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MotoStep ç³»ç»Ÿæ¶æ„                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   è§†é¢‘æº     â”‚â”€â”€â”€â–¶â”‚  è§†é¢‘ä¸‹è½½    â”‚â”€â”€â”€â–¶â”‚  å­—å¹•æå–    â”‚  â”‚
â”‚  â”‚  (YouTube)  â”‚    â”‚  (yt-dlp)   â”‚    â”‚  (srt/vtt)  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                               â”‚          â”‚
â”‚                                               â–¼          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å¾®ä¿¡å‘å¸ƒ    â”‚â—€â”€â”€â”€â”‚  å†…å®¹åˆæˆ    â”‚â—€â”€â”€â”€â”‚  AIå†…å®¹åˆ†æ  â”‚  â”‚
â”‚  â”‚ (è‰ç¨¿ç®±)     â”‚    â”‚  (Jinja2)   â”‚    â”‚ (NotebookLM)â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                            â–²                             â”‚
â”‚                            â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  æœ€ç»ˆè¾“å‡º    â”‚    â”‚  åª’ä½“å¤„ç†    â”‚    â”‚  åŸå§‹è§†é¢‘    â”‚  â”‚
â”‚  â”‚ (HTML/MD)   â”‚    â”‚  (FFmpeg)   â”‚    â”‚   (.mp4)    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ç³»ç»Ÿè¦æ±‚

### 2.1 ç¡¬ä»¶è¦æ±‚

| ç»„ä»¶ | æœ€ä½é…ç½® | æ¨èé…ç½® |
|------|---------|---------|
| CPU | åŒæ ¸ 2.0GHz | å››æ ¸ 3.0GHz+ |
| å†…å­˜ | 4 GB | 8 GB+ |
| ç¡¬ç›˜ | 10 GB å¯ç”¨ç©ºé—´ | 50 GB+ SSD |
| ç½‘ç»œ | ç¨³å®šçš„äº’è”ç½‘è¿æ¥ | é«˜é€Ÿå®½å¸¦ |

### 2.2 è½¯ä»¶è¦æ±‚

| è½¯ä»¶ | ç‰ˆæœ¬è¦æ±‚ | å¿…éœ€/å¯é€‰ |
|------|---------|----------|
| Python | 3.10+ | **å¿…éœ€** |
| FFmpeg | 4.0+ | **å¿…éœ€** |
| Git | ä»»æ„ç‰ˆæœ¬ | æ¨è |

### 2.3 æ“ä½œç³»ç»Ÿ

- âœ… Windows 10/11
- âœ… macOS 10.15+
- âœ… Linux (Ubuntu 20.04+, Debian 11+, CentOS 8+)

---

## 3. å®‰è£…éƒ¨ç½²

### 3.1 æ–¹å¼ä¸€ï¼šä» GitHub å…‹éš†

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/zhaoran30184898-jpg/motostep.git
cd motostep

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 3.2 å®‰è£… FFmpeg

**Windows:**
```bash
# ä½¿ç”¨ Chocolatey
choco install ffmpeg

# æˆ–ä»å®˜ç½‘ä¸‹è½½
# https://ffmpeg.org/download.html
```

**macOS:**
```bash
brew install ffmpeg
```

**Linux (Ubuntu/Debian):**
```bash
sudo apt update
sudo apt install ffmpeg
```

**éªŒè¯å®‰è£…:**
```bash
ffmpeg -version
```

### 3.3 é…ç½®ç¯å¢ƒå˜é‡

```bash
# 1. å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# 2. ç¼–è¾‘ .env æ–‡ä»¶
# Windows: notepad .env
# macOS/Linux: nano .env
```

### 3.4 ç›®å½•ç»“æ„è¯´æ˜

```
motostep/
â”œâ”€â”€ .env                      # ç¯å¢ƒé…ç½®æ–‡ä»¶ï¼ˆéœ€åˆ›å»ºï¼‰
â”œâ”€â”€ .env.example              # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ config.py                 # é…ç½®ç®¡ç†æ¨¡å—
â”œâ”€â”€ requirements.txt          # Pythonä¾èµ–
â”œâ”€â”€ src/                      # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ video_fetcher/        # è§†é¢‘è·å–æ¨¡å—
â”‚   â”œâ”€â”€ content_analyzer/     # å†…å®¹åˆ†ææ¨¡å—
â”‚   â”œâ”€â”€ media_processor/      # åª’ä½“å¤„ç†æ¨¡å—
â”‚   â”œâ”€â”€ content_composer/     # å†…å®¹åˆæˆæ¨¡å—
â”‚   â”œâ”€â”€ wechat_publisher/     # å¾®ä¿¡å‘å¸ƒæ¨¡å—
â”‚   â””â”€â”€ models/               # æ•°æ®æ¨¡å‹
â”œâ”€â”€ output/                   # è¾“å‡ºç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”‚   â”œâ”€â”€ videos/               # ä¸‹è½½çš„è§†é¢‘
â”‚   â”œâ”€â”€ subtitles/            # æå–çš„å­—å¹•
â”‚   â”œâ”€â”€ reports/              # AIåˆ†ææŠ¥å‘Š
â”‚   â”œâ”€â”€ images/               # ç”Ÿæˆçš„åª’ä½“æ–‡ä»¶
â”‚   â”œâ”€â”€ analysis/             # åˆ†æç»“æœJSON
â”‚   â””â”€â”€ articles/             # ç”Ÿæˆçš„æ–‡ç« 
â”œâ”€â”€ temp/                     # ä¸´æ—¶æ–‡ä»¶
â””â”€â”€ logs/                     # æ—¥å¿—æ–‡ä»¶
```

---

## 4. é…ç½®è¯´æ˜

### 4.1 ç¯å¢ƒå˜é‡é…ç½® (.env)

```bash
# ===== å¾®ä¿¡å…¬ä¼—å·é…ç½® =====
WECHAT_APP_ID=your_app_id_here
WECHAT_APP_SECRET=your_app_secret_here

# ===== è§†é¢‘ä¸‹è½½é…ç½® =====
VIDEO_QUALITY=720p                    # è§†é¢‘è´¨é‡: 720p/1080p
VIDEO_COOKIES_PATH=./cookies.txt      # YouTube cookiesæ–‡ä»¶è·¯å¾„

# ===== åª’ä½“ç”Ÿæˆé…ç½® =====
SCREENSHOT_QUALITY=2                  # æˆªå›¾è´¨é‡ (1-5, è¶Šå¤§è´¨é‡è¶Šé«˜)
GIF_WIDTH=480                         # GIFå®½åº¦ (åƒç´ )
GIF_FPS=10                            # GIFå¸§ç‡
GIF_USE_PALETTE=true                  # ä½¿ç”¨è°ƒè‰²æ¿ä¼˜åŒ–GIFå¤§å°
WATERMARK_TEXT=FreeSoloDirtbike       # æ°´å°æ–‡å­—

# ===== å†…å®¹ç”Ÿæˆé…ç½® =====
ARTICLE_MIN_LENGTH=5000               # æ–‡ç« æœ€å°å­—æ•°
ARTICLE_MAX_LENGTH=10000              # æ–‡ç« æœ€å¤§å­—æ•°
TARGET_LANGUAGE=zh-CN                 # ç›®æ ‡è¯­è¨€

# ===== å­˜å‚¨é…ç½® =====
OUTPUT_DIR=./output                   # è¾“å‡ºç›®å½•
TEMP_DIR=./temp                       # ä¸´æ—¶ç›®å½•
LOG_DIR=./logs                        # æ—¥å¿—ç›®å½•

# ===== WebæœåŠ¡é…ç½® =====
FLASK_HOST=127.0.0.1                  # WebæœåŠ¡åœ°å€
FLASK_PORT=5000                       # WebæœåŠ¡ç«¯å£
FLASK_DEBUG=true                      # è°ƒè¯•æ¨¡å¼

# ===== åº”ç”¨é…ç½® =====
APP_ENV=development                   # ç¯å¢ƒ: development/production
APP_LOG_LEVEL=INFO                    # æ—¥å¿—çº§åˆ«
APP_TIMEZONE=Asia/Shanghai            # æ—¶åŒº

# ===== é‡è¯•é…ç½® =====
HTTP_MAX_RETRIES=3                    # HTTPé‡è¯•æ¬¡æ•°
HTTP_RETRY_DELAY=1                    # é‡è¯•å»¶è¿Ÿ(ç§’)
```

### 4.2 è·å–å¾®ä¿¡å…¬ä¼—å·é…ç½®

1. ç™»å½• [å¾®ä¿¡å…¬ä¼—å¹³å°](https://mp.weixin.qq.com/)
2. è¿›å…¥"å¼€å‘" â†’ "åŸºæœ¬é…ç½®"
3. è·å– AppID å’Œ AppSecret
4. å°†å…¶å¡«å…¥ `.env` æ–‡ä»¶

### 4.3 YouTube Cookiesï¼ˆå¯é€‰ï¼‰

æŸäº› YouTube è§†é¢‘å¯èƒ½éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®ï¼Œæ­¤æ—¶éœ€è¦æä¾› cookiesï¼š

```bash
# ä½¿ç”¨æµè§ˆå™¨æ‰©å±•å¯¼å‡º cookies
# æ¨è: "Get cookies.txt LOCALLY" æ‰©å±•

# 1. å®‰è£…æµè§ˆå™¨æ‰©å±•
# 2. è®¿é—® YouTube å¹¶ç™»å½•
# 3. ç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼Œå¯¼å‡º cookies.txt
# 4. ä¿å­˜åˆ°é¡¹ç›®æ ¹ç›®å½•
```

---

## 5. å¿«é€Ÿå¼€å§‹

### 5.1 äº”åˆ†é’Ÿå¿«é€Ÿä½“éªŒ

```bash
# 1. ç¡®ä¿å·²å®‰è£…æ‰€æœ‰ä¾èµ–
pip install -r requirements.txt

# 2. è¿è¡Œç«¯åˆ°ç«¯æµ‹è¯•
python test_end_to_end.py

# æµ‹è¯•ä¼šè‡ªåŠ¨ï¼š
# - ä¸‹è½½ç¤ºä¾‹è§†é¢‘
# - ç”Ÿæˆåª’ä½“æ–‡ä»¶
# - åˆ›å»ºæ–‡ç« ï¼ˆ3ç§æ ¼å¼ï¼‰
```

### 5.2 å¤„ç†ç¬¬ä¸€ä¸ªè§†é¢‘

```python
# åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªå¤„ç†è„šæœ¬
from pathlib import Path
from src.video_fetcher import VideoFetcher
from src.content_analyzer import ContentAnalyzer
from src.media_processor import MediaProcessor
from src.content_composer import ContentComposer

# 1. ä¸‹è½½è§†é¢‘
fetcher = VideoFetcher()
video_info = fetcher.download_video(
    url="https://www.youtube.com/watch?v=YOUR_VIDEO_ID"
)

# 2. åˆ†æå†…å®¹ï¼ˆéœ€è¦å…ˆå‡†å¤‡ NotebookLM æŠ¥å‘Šï¼‰
analyzer = ContentAnalyzer()
analysis = analyzer.analyze_from_report(
    report_path="./output/reports/YOUR_VIDEO_ID_report.txt",
    subtitle_path="./output/subtitles/YOUR_VIDEO_ID.zh-CN.srt"
)

# 3. ç”Ÿæˆåª’ä½“æ–‡ä»¶
processor = MediaProcessor()
assets = processor.generate_assets(
    video_path=video_info['video_path'],
    analysis=analysis
)

# 4. åˆæˆæ–‡ç« 
composer = ContentComposer()
article = composer.compose(
    analysis=analysis,
    assets=assets,
    output_dir="./output/articles"
)
```

### 5.3 ä½¿ç”¨æµ‹è¯•è„šæœ¬

é¡¹ç›®æä¾›äº†å¤šä¸ªæµ‹è¯•è„šæœ¬ä¾›å¿«é€Ÿä½“éªŒï¼š

| æµ‹è¯•è„šæœ¬ | åŠŸèƒ½ | è¿è¡Œå‘½ä»¤ |
|---------|------|---------|
| `test_video_fetcher.py` | æµ‹è¯•è§†é¢‘ä¸‹è½½ | `python test_video_fetcher.py` |
| `test_media_processor.py` | æµ‹è¯•åª’ä½“ç”Ÿæˆ | `python test_media_processor.py` |
| `test_content_analyzer.py` | æµ‹è¯•å†…å®¹åˆ†æ | `python test_content_analyzer.py` |
| `test_content_composer.py` | æµ‹è¯•æ–‡ç« ç”Ÿæˆ | `python test_content_composer.py` |
| `test_end_to_end.py` | å®Œæ•´æµç¨‹æµ‹è¯• | `python test_end_to_end.py` |

---

## 6. ä½¿ç”¨æŒ‡å—

### 6.1 å‡†å¤‡ NotebookLM æŠ¥å‘Š

MotoStep ä½¿ç”¨ NotebookLM è¿›è¡Œ AI å†…å®¹åˆ†æï¼Œéœ€è¦æ‰‹åŠ¨å‡†å¤‡åˆ†ææŠ¥å‘Šï¼š

#### æ­¥éª¤ 1: ä¸Šä¼ è§†é¢‘åˆ° NotebookLM

1. è®¿é—® [https://notebooklm.google.com/](https://notebooklm.google.com/)
2. åˆ›å»ºæ–°çš„ Notebook
3. æ·»åŠ  YouTube è§†é¢‘é“¾æ¥ä½œä¸ºæº

#### æ­¥éª¤ 2: ç”Ÿæˆåˆ†ææŠ¥å‘Š

åœ¨ NotebookLM ä¸­è¯·æ±‚ç”Ÿæˆä»¥ä¸‹å†…å®¹ï¼š

```
è¯·åˆ†æè¿™ä¸ªè§†é¢‘ï¼Œå¹¶æä¾›ï¼š
1. è§†é¢‘æ‘˜è¦
2. å…³é”®æŠ€æœ¯ç‚¹åˆ—è¡¨ï¼ˆæ¯ä¸ªæŠ€æœ¯ç‚¹éœ€è¦ä¸­è‹±æ–‡åç§°ï¼‰
3. å…³é”®æ—¶åˆ»æ—¶é—´æˆ³åˆ—è¡¨ï¼ˆæ ¼å¼ï¼šåˆ†:ç§’ - æè¿°ï¼‰
4. æ¯ä¸ªæŠ€æœ¯ç‚¹çš„è¯¦ç»†è¯´æ˜
```

#### æ­¥éª¤ 3: å¯¼å‡ºæŠ¥å‘Š

1. å¤åˆ¶ NotebookLM ç”Ÿæˆçš„æŠ¥å‘Š
2. ä¿å­˜ä¸ºæ–‡æœ¬æ–‡ä»¶ï¼š`./output/reports/{VIDEO_ID}_report.txt`

**æŠ¥å‘Šæ ¼å¼ç¤ºä¾‹ï¼š**

```markdown
# Pro Motocross Techniques with Luke Fauser

## Summary
This comprehensive motocross tutorial covers essential riding techniques...

## Key Techniques

- **Body Positioning**: Proper body positioning is crucial...
- **Braking Techniques**: Master the art of braking...
- **Cornering Skills**: Enter corners wide, apex at the inside point...

## Key Moments

- **0:30** - Instructor demonstrates proper body positioning on the bike
- **1:45** - Front and rear brake technique demonstration
- **3:20** - Cornering line and body lean explanation
```

### 6.2 å‘½ä»¤è¡Œä½¿ç”¨

```bash
# ä¸‹è½½å•ä¸ªè§†é¢‘
python -c "
from src.video_fetcher import VideoFetcher
fetcher = VideoFetcher()
fetcher.download_video('https://www.youtube.com/watch?v=xxx')
"

# ç”Ÿæˆåª’ä½“æ–‡ä»¶
python -c "
from src.media_processor import MediaProcessor
from src.content_analyzer import ContentAnalyzer

analyzer = ContentAnalyzer()
analysis = analyzer.analyze_from_report('./output/reports/xxx_report.txt')

processor = MediaProcessor()
processor.generate_assets('./output/videos/xxx.mp4', analysis)
"

# ç”Ÿæˆæ–‡ç« 
python -c "
from src.content_composer import ContentComposer
composer = ContentComposer()
composer.compose_from_files(
    analysis_path='./output/analysis/xxx_analysis.json',
    images_dir='./output/images',
    output_dir='./output/articles/xxx'
)
"
```

### 6.3 Python API ä½¿ç”¨

#### å®Œæ•´æµç¨‹ç¤ºä¾‹

```python
from pathlib import Path
from src.video_fetcher import VideoFetcher
from src.content_analyzer import ContentAnalyzer
from src.media_processor import MediaProcessor
from src.content_composer import ContentComposer
from loguru import logger

# é…ç½®æ—¥å¿—
logger.add("./logs/motostep_{time}.log", rotation="1 day")

def process_video(video_url: str, report_path: str):
    """å®Œæ•´çš„è§†é¢‘å¤„ç†æµç¨‹"""

    # 1. ä¸‹è½½è§†é¢‘
    logger.info(f"å¼€å§‹å¤„ç†è§†é¢‘: {video_url}")
    fetcher = VideoFetcher()
    video_info = fetcher.download_video(video_url)
    video_id = video_info['video_id']

    # 2. åˆ†æå†…å®¹
    logger.info("åˆ†æè§†é¢‘å†…å®¹...")
    analyzer = ContentAnalyzer()

    # æŸ¥æ‰¾å­—å¹•æ–‡ä»¶
    subtitle_path = Path(f"./output/subtitles/{video_id}.zh-CN.srt")

    analysis = analyzer.analyze_from_report(
        report_path=report_path,
        subtitle_path=str(subtitle_path) if subtitle_path.exists() else None
    )

    # ä¿å­˜åˆ†æç»“æœ
    analysis_path = f"./output/analysis/{video_id}_analysis.json"
    analyzer.save_analysis(analysis, analysis_path)

    # 3. ç”Ÿæˆåª’ä½“æ–‡ä»¶
    logger.info("ç”Ÿæˆåª’ä½“æ–‡ä»¶...")
    processor = MediaProcessor()
    assets = processor.generate_assets(
        video_path=video_info['video_path'],
        analysis=analysis
    )

    # 4. åˆæˆæ–‡ç« 
    logger.info("åˆæˆæ–‡ç« ...")
    composer = ContentComposer()
    article = composer.compose(
        analysis=analysis,
        assets=assets,
        output_dir=f"./output/articles/{video_id}"
    )

    logger.success(f"å¤„ç†å®Œæˆï¼æ–‡ç« ä¿å­˜åœ¨: ./output/articles/{video_id}")
    return article

# ä½¿ç”¨
if __name__ == "__main__":
    article = process_video(
        video_url="https://www.youtube.com/watch?v=oPFg4VkIVIY",
        report_path="./output/reports/oPFg4VkIVIY_report.txt"
    )
```

### 6.4 æ‰¹é‡å¤„ç†

```python
from pathlib import Path
import json

def batch_process(url_file: str, report_dir: str):
    """æ‰¹é‡å¤„ç†å¤šä¸ªè§†é¢‘"""

    # è¯»å–URLåˆ—è¡¨
    with open(url_file, 'r', encoding='utf-8') as f:
        urls = [line.strip() for line in f if line.strip()]

    # å¤„ç†æ¯ä¸ªè§†é¢‘
    for url in urls:
        try:
            # æå–è§†é¢‘ID
            video_id = url.split('v=')[-1].split('&')[0]

            # æŸ¥æ‰¾å¯¹åº”çš„æŠ¥å‘Šæ–‡ä»¶
            report_path = Path(report_dir) / f"{video_id}_report.txt"

            if not report_path.exists():
                logger.warning(f"æŠ¥å‘Šä¸å­˜åœ¨ï¼Œè·³è¿‡: {video_id}")
                continue

            # å¤„ç†è§†é¢‘
            process_video(url, str(report_path))

        except Exception as e:
            logger.error(f"å¤„ç†å¤±è´¥: {url}, é”™è¯¯: {e}")
            continue

# ä½¿ç”¨
batch_process(
    url_file="./video_urls.txt",
    report_dir="./output/reports"
)
```

---

## 7. å·¥ä½œæµç¨‹è¯¦è§£

### 7.1 å®Œæ•´å·¥ä½œæµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        MotoStep å·¥ä½œæµç¨‹                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   ç”¨æˆ·è¾“å…¥
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ YouTube URL  â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  é˜¶æ®µ1: è§†é¢‘è·å–  â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ â€¢ ä¸‹è½½è§†é¢‘      â”‚
   â”‚ â€¢ æå–å­—å¹•      â”‚
   â”‚ â€¢ è·å–å…ƒæ•°æ®    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  é˜¶æ®µ2: AIåˆ†æ  â”‚  â—€â”€â”€ éœ€è¦æ‰‹åŠ¨å‡†å¤‡ NotebookLM æŠ¥å‘Š
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ â€¢ è§£ææŠ¥å‘Š      â”‚
   â”‚ â€¢ æå–æŠ€æœ¯ç‚¹    â”‚
   â”‚ â€¢ è¯†åˆ«æ—¶é—´æˆ³    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ é˜¶æ®µ3: åª’ä½“å¤„ç† â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ â€¢ æå–å…³é”®å¸§    â”‚
   â”‚ â€¢ ç”ŸæˆGIF      â”‚
   â”‚ â€¢ æ·»åŠ æ°´å°      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ é˜¶æ®µ4: å†…å®¹åˆæˆ â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ â€¢ ç”ŸæˆHTML      â”‚
   â”‚ â€¢ ç”ŸæˆMarkdown  â”‚
   â”‚ â€¢ åµŒå…¥åª’ä½“      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ é˜¶æ®µ5: å¾®ä¿¡å‘å¸ƒ â”‚  ğŸš§ å¼€å‘ä¸­
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ â€¢ ä¸Šä¼ åª’ä½“      â”‚
   â”‚ â€¢ åˆ›å»ºè‰ç¨¿      â”‚
   â”‚ â€¢ æ¨é€åˆ°å…¬ä¼—å·  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
      æœ€ç»ˆè¾“å‡º
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ â€¢ å¾®ä¿¡HTML      â”‚
   â”‚ â€¢ Markdownæ–‡æ¡£  â”‚
   â”‚ â€¢ HTMLæŠ¥å‘Š      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 å„é˜¶æ®µè¯¦ç»†è¯´æ˜

#### é˜¶æ®µ1: è§†é¢‘è·å–

**åŠŸèƒ½**: ä» YouTube ä¸‹è½½è§†é¢‘å’Œå­—å¹•

**è¾“å…¥**:
- YouTube URL
- Cookies æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰

**è¾“å‡º**:
- è§†é¢‘æ–‡ä»¶ (MP4)
- å­—å¹•æ–‡ä»¶ (SRT/VTT)
- è§†é¢‘å…ƒæ•°æ®

**è€—æ—¶**: 1-5 åˆ†é’Ÿï¼ˆå–å†³äºè§†é¢‘å¤§å°å’Œç½‘ç»œé€Ÿåº¦ï¼‰

**å®ç°**:
```python
from src.video_fetcher import VideoFetcher

fetcher = VideoFetcher()
video_info = fetcher.download_video(
    url="https://www.youtube.com/watch?v=xxx",
    quality="720p",
    cookies_path="./cookies.txt"
)
```

#### é˜¶æ®µ2: å†…å®¹åˆ†æ

**åŠŸèƒ½**: è§£æ AI æŠ¥å‘Šï¼Œæå–å…³é”®æŠ€æœ¯ç‚¹å’Œæ—¶é—´æˆ³

**è¾“å…¥**:
- NotebookLM æŠ¥å‘Šæ–‡æœ¬
- å­—å¹•æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰

**è¾“å‡º**:
- åˆ†æç»“æœ JSON
- æŠ€æœ¯ç‚¹åˆ—è¡¨
- å…³é”®æ—¶åˆ»æ—¶é—´æˆ³

**è€—æ—¶**: < 1 ç§’

**å®ç°**:
```python
from src.content_analyzer import ContentAnalyzer

analyzer = ContentAnalyzer()
analysis = analyzer.analyze_from_report(
    report_path="./output/reports/xxx_report.txt",
    subtitle_path="./output/subtitles/xxx.srt"  # å¯é€‰
)

# ä¿å­˜åˆ†æç»“æœ
analyzer.save_analysis(analysis, "./output/analysis/xxx_analysis.json")
```

#### é˜¶æ®µ3: åª’ä½“å¤„ç†

**åŠŸèƒ½**: æ ¹æ®åˆ†æç»“æœç”Ÿæˆåª’ä½“èµ„äº§

**è¾“å…¥**:
- è§†é¢‘æ–‡ä»¶è·¯å¾„
- åˆ†æç»“æœï¼ˆåŒ…å«å…³é”®æ—¶åˆ»ï¼‰

**è¾“å‡º**:
- é«˜è´¨é‡æˆªå›¾ (JPG)
- GIF åŠ¨å›¾
- æ‰€æœ‰æ–‡ä»¶å‡å¸¦æ°´å°

**è€—æ—¶**: 30-60 ç§’ï¼ˆå–å†³äºåª’ä½“æ•°é‡ï¼‰

**å®ç°**:
```python
from src.media_processor import MediaProcessor

processor = MediaProcessor()
assets = processor.generate_assets(
    video_path="./output/videos/xxx.mp4",
    analysis=analysis,
    output_dir="./output/images"
)
```

**é…ç½®é€‰é¡¹**:
- `screenshot_quality`: æˆªå›¾è´¨é‡ (1-5)
- `gif_width`: GIF å®½åº¦ï¼ˆåƒç´ ï¼‰
- `gif_fps`: GIF å¸§ç‡
- `watermark_text`: æ°´å°æ–‡å­—

#### é˜¶æ®µ4: å†…å®¹åˆæˆ

**åŠŸèƒ½**: å°†åˆ†æç»“æœå’Œåª’ä½“åˆæˆä¸ºæœ€ç»ˆæ–‡ç« 

**è¾“å…¥**:
- åˆ†æç»“æœ JSON
- åª’ä½“æ–‡ä»¶ç›®å½•

**è¾“å‡º**:
- å¾®ä¿¡å…¬ä¼—å· HTML
- Markdown æ–‡æ¡£
- HTML æŠ¥å‘Š

**è€—æ—¶**: < 1 ç§’

**å®ç°**:
```python
from src.content_composer import ContentComposer

composer = ContentComposer()
article = composer.compose(
    analysis=analysis,
    assets=assets,
    output_dir="./output/articles/xxx"
)
```

#### é˜¶æ®µ5: å¾®ä¿¡å‘å¸ƒï¼ˆå¼€å‘ä¸­ï¼‰

**åŠŸèƒ½**: å°†æ–‡ç« å‘å¸ƒåˆ°å¾®ä¿¡å…¬ä¼—å·è‰ç¨¿ç®±

**è¾“å…¥**:
- æ–‡ç«  HTML
- å¾®ä¿¡ AppID å’Œ AppSecret

**è¾“å‡º**:
- å¾®ä¿¡è‰ç¨¿
- å‘å¸ƒæˆåŠŸç¡®è®¤

**å®ç°**ï¼ˆè®¡åˆ’ï¼‰:
```python
from src.wechat_publisher import WeChatPublisher, DraftManager

publisher = WeChatPublisher()
draft_manager = DraftManager(publisher)

result = draft_manager.create_draft(
    title="æ–‡ç« æ ‡é¢˜",
    content=article['wechat_html'],
    cover_path=article['cover_image']
)
```

---

## 8. é«˜çº§åŠŸèƒ½

### 8.1 è‡ªå®šä¹‰åª’ä½“ç”Ÿæˆ

```python
from src.media_processor import MediaProcessor
from src.models.video import KeyMoment

# åˆ›å»ºè‡ªå®šä¹‰å…³é”®æ—¶åˆ»
custom_moments = [
    KeyMoment(
        timestamp=30,
        title="è‡ªå®šä¹‰åœºæ™¯1",
        description="è¿™ä¸ªåœºæ™¯çš„è¯¦ç»†è¯´æ˜",
        media_type="image"  # æˆ– "gif"
    ),
    KeyMoment(
        timestamp=120,
        title="è‡ªå®šä¹‰åœºæ™¯2",
        description="å¦ä¸€ä¸ªåœºæ™¯",
        media_type="gif",
        duration=5  # GIFæ—¶é•¿ï¼ˆç§’ï¼‰
    )
]

# ä½¿ç”¨è‡ªå®šä¹‰æ—¶é—´æˆ³ç”Ÿæˆåª’ä½“
processor = MediaProcessor()
assets = processor.generate_assets(
    video_path="./output/videos/xxx.mp4",
    key_moments=custom_moments,
    output_dir="./output/images"
)
```

### 8.2 è‡ªå®šä¹‰æ–‡ç« æ¨¡æ¿

```python
from src.content_composer import ContentComposer
from pathlib import Path

# åˆ›å»ºè‡ªå®šä¹‰æ¨¡æ¿
custom_template = """
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{{ title }}</title>
    <style>
        /* è‡ªå®šä¹‰æ ·å¼ */
        body { font-family: 'Microsoft YaHei', sans-serif; }
        .tech-point { background: #f0f0f0; padding: 10px; }
    </style>
</head>
<body>
    <h1>{{ title }}</h1>
    <div class="summary">{{ summary }}</div>

    {% for tech in techniques %}
    <div class="tech-point">
        <h2>{{ tech.title }}</h2>
        <p>{{ tech.description }}</p>
        {% if tech.media %}
        <img src="{{ tech.media.path }}" alt="{{ tech.media.title }}">
        {% endif %}
    </div>
    {% endfor %}
</body>
</html>
"""

# ä¿å­˜è‡ªå®šä¹‰æ¨¡æ¿
template_path = Path("./templates/custom_article.html")
template_path.parent.mkdir(exist_ok=True)
template_path.write_text(custom_template, encoding='utf-8')

# ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿
composer = ContentComposer()
article = composer.compose(
    analysis=analysis,
    assets=assets,
    template_path=str(template_path),
    output_dir="./output/articles/custom"
)
```

### 8.3 æ€§èƒ½ä¼˜åŒ–

#### å¹¶è¡Œåª’ä½“ç”Ÿæˆ

```python
from concurrent.futures import ThreadPoolExecutor
from src.media_processor import MediaProcessor

def generate_media_asset(moment):
    """ç”Ÿæˆå•ä¸ªåª’ä½“èµ„äº§"""
    processor = MediaProcessor()
    return processor.generate_single_asset(
        video_path=video_path,
        moment=moment
    )

# å¹¶è¡Œç”Ÿæˆå¤šä¸ªåª’ä½“
with ThreadPoolExecutor(max_workers=4) as executor:
    futures = [executor.submit(generate_media_asset, moment)
               for moment in analysis.key_moments]
    assets = [f.result() for f in futures]
```

#### å¢é‡å¤„ç†

```python
from pathlib import Path
import hashlib

def get_file_hash(filepath):
    """è®¡ç®—æ–‡ä»¶å“ˆå¸Œå€¼"""
    return hashlib.md5(Path(filepath).read_bytes()).hexdigest()

def incremental_process(video_path, report_path):
    """å¢é‡å¤„ç†ï¼šåªå¤„ç†æœ‰å˜åŒ–çš„æ–‡ä»¶"""

    # æ£€æŸ¥æ˜¯å¦å·²å¤„ç†
    video_hash = get_file_hash(video_path)
    cache_file = Path(f"./temp/{video_hash}.json")

    if cache_file.exists():
        logger.info("ä½¿ç”¨ç¼“å­˜ç»“æœ")
        return json.loads(cache_file.read_text())

    # æ‰§è¡Œå¤„ç†
    result = process_video(video_path, report_path)

    # ä¿å­˜ç¼“å­˜
    cache_file.parent.mkdir(exist_ok=True)
    cache_file.write_text(json.dumps(result))

    return result
```

### 8.4 é”™è¯¯å¤„ç†å’Œé‡è¯•

```python
import time
from functools import wraps

def retry(max_attempts=3, delay=1):
    """é‡è¯•è£…é¥°å™¨"""
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            for attempt in range(max_attempts):
                try:
                    return func(*args, **kwargs)
                except Exception as e:
                    if attempt == max_attempts - 1:
                        raise
                    logger.warning(f"å°è¯• {attempt + 1} å¤±è´¥: {e}")
                    time.sleep(delay)
        return wrapper
    return decorator

# ä½¿ç”¨
@retry(max_attempts=3, delay=2)
def download_video_with_retry(url):
    fetcher = VideoFetcher()
    return fetcher.download_video(url)
```

### 8.5 NeuraPress é›†æˆï¼ˆä¸“ä¸šæ’ç‰ˆï¼‰

> **NeuraPress** æ˜¯ä¸€ä¸ªåŸºäº Next.js çš„ Markdown ç¼–è¾‘å™¨ï¼Œä¸“ä¸ºå¾®ä¿¡å…¬ä¼—å·æ’ç‰ˆè®¾è®¡ã€‚é€šè¿‡é›†æˆ NeuraPressï¼Œä½ å¯ä»¥ä¸ºæ–‡ç« æ·»åŠ ä¸“ä¸šçš„æ ·å¼å’Œæ’ç‰ˆã€‚

#### 8.5.1 å®‰è£… NeuraPress

```bash
# å…‹éš† NeuraPress ä»“åº“
git clone https://github.com/tianyaxiang/neurapress.git
cd neurapress

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

å¯åŠ¨æˆåŠŸåï¼Œè®¿é—® http://localhost:3000

#### 8.5.2 ä½¿ç”¨ MotoStep ç”Ÿæˆ NeuraPress ä¼˜åŒ–çš„ Markdown

```python
# æ–¹æ³•1: ä½¿ç”¨ full_article_generator.pyï¼ˆæ¨èï¼‰
python full_article_generator.py

# è‡ªåŠ¨ç”Ÿæˆä¸‰ä¸ªæ–‡ä»¶:
# - {æ ‡é¢˜}.html      - Web ç‰ˆæœ¬
# - {æ ‡é¢˜}.md        - NeuraPress ä¼˜åŒ–çš„ Markdown
# - {æ ‡é¢˜}.txt       - çº¯æ–‡æœ¬ç‰ˆæœ¬
```

NeuraPress ä¼˜åŒ–çš„ Markdown åŒ…å«:
- âœ… æ¸…æ™°çš„æ ‡é¢˜å±‚çº§ç»“æ„
- âœ… å…ƒæ•°æ®ï¼ˆæ¥æºã€ç”Ÿæˆæ—¶é—´ï¼‰
- âœ… æ°´å¹³åˆ†éš”çº¿ï¼ˆ`---`ï¼‰
- âœ… å›¾ç‰‡è¯´æ˜å’Œæ–‡ä»¶å¤§å°
- âœ… æ—¶é—´èŒƒå›´æ ‡è®°

#### 8.5.3 å·¥ä½œæµç¨‹

```
MotoStep ç”Ÿæˆ â†’ å¯¼å…¥ NeuraPress â†’ åº”ç”¨æ ·å¼ â†’ å¤åˆ¶åˆ°å¾®ä¿¡å…¬ä¼—å·
     â†“                â†“                â†“              â†“
  .md æ–‡ä»¶      æœ¬åœ°ç¼–è¾‘å™¨       ä¸“ä¸šæ’ç‰ˆ        å‘å¸ƒæ–‡ç« 
```

**è¯¦ç»†æ­¥éª¤**:

1. **ç”Ÿæˆ Markdown**ï¼ˆMotoStepï¼‰
   ```bash
   python full_article_generator.py
   ```

2. **å¯¼å…¥ NeuraPress**
   - æ‰“å¼€ http://localhost:3000
   - ç‚¹å‡»"æ–°å»ºæ–‡æ¡£"
   - é€‰æ‹©ç”Ÿæˆçš„ `.md` æ–‡ä»¶

3. **åº”ç”¨å¾®ä¿¡æ ·å¼**
   - åœ¨å³ä¾§"æ ·å¼é¢æ¿"é€‰æ‹©é¢„è®¾
   - æ¨èæ ·å¼: "å¾®ä¿¡é»˜è®¤é£æ ¼" æˆ– "æ‚å¿—é£æ ¼"

4. **é¢„è§ˆå’Œè°ƒæ•´**
   - ç‚¹å‡»"é¢„è§ˆ"æŸ¥çœ‹æ•ˆæœ
   - åœ¨"æ‰‹æœºæ¨¡å¼"ä¸‹æ£€æŸ¥ç§»åŠ¨ç«¯æ˜¾ç¤º

5. **å¤åˆ¶åˆ°å¾®ä¿¡**
   - ç‚¹å‡»"å¤åˆ¶"æŒ‰é’®ï¼ˆæˆ– Ctrl+A â†’ Ctrl+Cï¼‰
   - ç²˜è´´åˆ°å¾®ä¿¡å…¬ä¼—å·ç¼–è¾‘å™¨
   - æ‰‹åŠ¨ä¸Šä¼ å›¾ç‰‡ï¼ˆå¾®ä¿¡é™åˆ¶ï¼‰

#### 8.5.4 ä¸‰ç§è¾“å‡ºæ ¼å¼å¯¹æ¯”

| æ ¼å¼ | æ–‡ä»¶æ‰©å±•å | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|-----------|------|------|----------|
| **HTML** | `.html` | æ ·å¼å®Œæ•´ï¼Œå³å¼€å³ç”¨ | æ ·å¼æ§åˆ¶æœ‰é™ | å¿«é€Ÿå‘å¸ƒã€æµè§ˆå™¨æŸ¥çœ‹ |
| **Markdown (NeuraPress)** | `.md` | ç»“æ„æ¸…æ™°ï¼Œä¸“ä¸šæ’ç‰ˆ | éœ€è¦é¢å¤–å·¥å…· | è¿½æ±‚é«˜è´¨é‡æ’ç‰ˆ |
| **çº¯æ–‡æœ¬** | `.txt` | é€šç”¨æ€§å¼ºï¼Œæ— æ ¼å¼ | æ— æ ·å¼ï¼Œéœ€æ‰‹åŠ¨æ’ç‰ˆ | è·¨å¹³å°å‘å¸ƒ |

#### 8.5.5 ä½¿ç”¨ç¤ºä¾‹

**ç”Ÿæˆæ‰€æœ‰æ ¼å¼**:
```python
# full_article_generator.py ä¼šè‡ªåŠ¨ç”Ÿæˆä¸‰ç§æ ¼å¼
python full_article_generator.py

# è¾“å‡º:
# output/articles/Mikuni_HSR42/
# â”œâ”€â”€ è¿›æ°”ä¹‹äº‰ï¼šMikuni HSR 42 çœŸçš„å€¼é‚£ 300 ç¾é‡‘å—ï¼Ÿ.html
# â”œâ”€â”€ è¿›æ°”ä¹‹äº‰ï¼šMikuni HSR 42 çœŸçš„å€¼é‚£ 300 ç¾é‡‘å—ï¼Ÿ.md
# â”œâ”€â”€ è¿›æ°”ä¹‹äº‰ï¼šMikuni HSR 42 çœŸçš„å€¼é‚£ 300 ç¾é‡‘å—ï¼Ÿ.txt
# â””â”€â”€ media/
#     â”œâ”€â”€ 02_51s.gif
#     â”œâ”€â”€ 04_72s.gif
#     â””â”€â”€ ...
```

**åœ¨ NeuraPress ä¸­ä½¿ç”¨**:
```markdown
# MotoStep ç”Ÿæˆçš„ Markdown ç¤ºä¾‹

# è¿›æ°”ä¹‹äº‰ï¼šMikuni HSR 42 çœŸçš„å€¼é‚£ 300 ç¾é‡‘å—ï¼Ÿ

**æ¥æº**: CV Carburetor VS Mikuni flat slide
**ç”Ÿæˆæ—¶é—´**: 2026-01-30 11:32:35

---

## 1. CV åŒ–æ²¹å™¨ï¼šä¼šæ›¿ä½ "æ€è€ƒ"çš„çœŸç©ºç³»ç»Ÿ

**æ—¶é—´èŒƒå›´**: 00:00:51 - 00:01:12

![CVåŒ–æ²¹å™¨å·¥ä½œåŸç†](media/02_51s.gif)

*åŠ¨å›¾: CVï¼ˆConstant Velocityï¼‰ä»£è¡¨"ç­‰é€Ÿ"...*

è¿™ç§è®¾è®¡æœ€æ ¸å¿ƒçš„æ„ä¹‰åœ¨äºå®ƒçš„"å¹³æ»‘æ•ˆåº”"...

---

## 2. "å¹³æ»‘æ•ˆåº”"ï¼šæœºæ¢°å¼çš„ç‰µå¼•åŠ›æ§åˆ¶

**æ—¶é—´èŒƒå›´**: 00:01:12 - 00:01:38

...
```

#### 8.5.6 å¸¸è§é—®é¢˜

**Q: NeuraPress å·²è¢«æ ‡è®°ä¸º deprecatedï¼Œè¿˜èƒ½ä½¿ç”¨å—ï¼Ÿ**

A: å¯ä»¥ã€‚è™½ç„¶å®˜æ–¹åœæ­¢ç»´æŠ¤ï¼Œä½†æ ¸å¿ƒåŠŸèƒ½ä»ç„¶å¯ç”¨ã€‚å¦‚æœéœ€è¦æ›´æ´»è·ƒçš„é¡¹ç›®ï¼Œå¯ä»¥è€ƒè™‘:
- [Markdown Nice](https://www.mdnice.com/) - åœ¨çº¿å·¥å…·
- ç›´æ¥ä½¿ç”¨ MotoStep ç”Ÿæˆçš„ HTML

**Q: ä¸ºä»€ä¹ˆéœ€è¦æ‰‹åŠ¨ä¸Šä¼ å›¾ç‰‡ï¼Ÿ**

A: å¾®ä¿¡å…¬ä¼—å·åªæ¥å—ä¸Šä¼ åˆ°å…¶ç´ æåº“çš„å›¾ç‰‡ï¼Œä¸æ”¯æŒæœ¬åœ°è·¯å¾„æˆ–å¤–é“¾ï¼ˆé™¤éæœ‰ç™½åå•ï¼‰ã€‚ç”Ÿæˆçš„ Markdown ä¸­çš„å›¾ç‰‡è·¯å¾„å¦‚ `media/02_51s.gif` éœ€è¦æ‰‹åŠ¨ä¸Šä¼ ã€‚

**Q: å¦‚ä½•å¤„ç†å¾®ä¿¡çš„ 2MB æ–‡ä»¶å¤§å°é™åˆ¶ï¼Ÿ**

A: MotoStep ç”Ÿæˆçš„ GIF é€šå¸¸ä¸º 6-7 MBï¼Œè¶…è¿‡å¾®ä¿¡é™åˆ¶ã€‚è§£å†³æ–¹æ¡ˆ:
```bash
# ä½¿ç”¨ convert_for_wechat.py è½¬æ¢
python convert_for_wechat.py

# é€‰æ‹©:
# 1. è½¬æ¢ä¸º MP4 è§†é¢‘ï¼ˆæ¨èï¼Œæ— å¤§å°é™åˆ¶ï¼‰
# 2. å‹ç¼© GIF åˆ° 2MB ä»¥ä¸‹
# 3. ä½¿ç”¨é™æ€å›¾ç‰‡
```

#### 8.5.7 ç›¸å…³æ–‡æ¡£

- **NeuraPress è¯¦ç»†ä½¿ç”¨æŒ‡å—**: `docs/NeuraPress_ä½¿ç”¨æŒ‡å—.md`
- **NeuraPress GitHub**: https://github.com/tianyaxiang/neurapress
- **Markdown è¯­æ³•å‚è€ƒ**: https://www.markdownguide.org/

---

## 9. APIå‚è€ƒ

### 9.1 VideoFetcher (è§†é¢‘è·å–æ¨¡å—)

```python
from src.video_fetcher import VideoFetcher

fetcher = VideoFetcher(
    output_dir="./output/videos",    # è§†é¢‘è¾“å‡ºç›®å½•
    quality="720p",                  # è§†é¢‘è´¨é‡
    cookies_path=None                # Cookiesæ–‡ä»¶è·¯å¾„
)

# ä¸‹è½½è§†é¢‘
video_info = fetcher.download_video(
    url: str,                        # YouTube URL
    quality: str = "720p",           # è§†é¢‘è´¨é‡
    cookies_path: str = None         # Cookiesæ–‡ä»¶
) -> dict

# è¿”å›æ ¼å¼:
{
    "video_id": "oPFg4VkIVIY",
    "title": "è§†é¢‘æ ‡é¢˜",
    "video_path": "/path/to/video.mp4",
    "subtitle_path": "/path/to/subtitle.srt",
    "duration": 600,  # ç§’
    "thumbnail": "https://..."
}
```

### 9.2 ContentAnalyzer (å†…å®¹åˆ†ææ¨¡å—)

```python
from src.content_analyzer import ContentAnalyzer

analyzer = ContentAnalyzer()

# ä»æŠ¥å‘Šåˆ†æ
analysis = analyzer.analyze_from_report(
    report_path: str,                # NotebookLMæŠ¥å‘Šè·¯å¾„
    subtitle_path: str = None        # å­—å¹•æ–‡ä»¶è·¯å¾„ï¼ˆå¯é€‰ï¼‰
) -> VideoAnalysis

# ä»å­—å¹•åˆ†æ
analysis = analyzer.analyze_from_subtitle(
    subtitle_path: str,              # å­—å¹•æ–‡ä»¶è·¯å¾„
    video_title: str                 # è§†é¢‘æ ‡é¢˜
) -> VideoAnalysis

# ä¿å­˜åˆ†æç»“æœ
analyzer.save_analysis(
    analysis: VideoAnalysis,
    output_path: str
)

# VideoAnalysis ç»“æ„:
{
    "video_id": "xxx",
    "title": "è§†é¢‘æ ‡é¢˜",
    "summary": "è§†é¢‘æ‘˜è¦",
    "techniques": [                  # æŠ€æœ¯ç‚¹åˆ—è¡¨
        {
            "name": "æŠ€æœ¯åç§°",
            "name_en": "English Name",
            "description": "è¯¦ç»†è¯´æ˜"
        }
    ],
    "key_moments": [                 # å…³é”®æ—¶åˆ»åˆ—è¡¨
        {
            "timestamp": 30,         # æ—¶é—´æˆ³ï¼ˆç§’ï¼‰
            "title": "åœºæ™¯æ ‡é¢˜",
            "description": "åœºæ™¯æè¿°",
            "media_type": "image"    # "image" æˆ– "gif"
        }
    ]
}
```

### 9.3 MediaProcessor (åª’ä½“å¤„ç†æ¨¡å—)

```python
from src.media_processor import MediaProcessor

processor = MediaProcessor(
    output_dir="./output/images",
    screenshot_quality=2,            # 1-5
    gif_width=480,
    gif_fps=10,
    watermark_text="FreeSoloDirtbike"
)

# ç”Ÿæˆæ‰€æœ‰åª’ä½“èµ„äº§
assets = processor.generate_assets(
    video_path: str,                 # è§†é¢‘æ–‡ä»¶è·¯å¾„
    analysis: VideoAnalysis,         # åˆ†æç»“æœ
    output_dir: str = "./output/images"
) -> List[MediaAsset]

# ç”Ÿæˆå•ä¸ªèµ„äº§
asset = processor.generate_single_asset(
    video_path: str,
    moment: KeyMoment,
    output_dir: str
) -> MediaAsset

# MediaAsset ç»“æ„:
{
    "path": "/path/to/asset.jpg",
    "type": "image",                 # "image" æˆ– "gif"
    "timestamp": 30,
    "title": "åœºæ™¯æ ‡é¢˜",
    "size": 102400                   # å­—èŠ‚
}
```

### 9.4 ContentComposer (å†…å®¹åˆæˆæ¨¡å—)

```python
from src.content_composer import ContentComposer

composer = ContentComposer()

# ä»å¯¹è±¡åˆæˆ
article = composer.compose(
    analysis: VideoAnalysis,
    assets: List[MediaAsset],
    output_dir: str,
    template_path: str = None        # è‡ªå®šä¹‰æ¨¡æ¿ï¼ˆå¯é€‰ï¼‰
) -> dict

# ä»æ–‡ä»¶åˆæˆ
article = composer.compose_from_files(
    analysis_path: str,
    images_dir: str,
    output_dir: str
) -> dict

# è¿”å›æ ¼å¼:
{
    "wechat_html": "/path/to/wechat.html",
    "markdown": "/path/to/report.md",
    "html_report": "/path/to/report.html",
    "title": "æ–‡ç« æ ‡é¢˜",
    "summary": "æ–‡ç« æ‘˜è¦",
    "stats": {
        "technique_count": 6,
        "media_count": 3
    }
}
```

### 9.5 WeChatClient (å¾®ä¿¡å‘å¸ƒæ¨¡å—ï¼Œå¼€å‘ä¸­)

```python
from src.wechat_publisher import WeChatClient

client = WeChatClient(
    app_id="your_app_id",
    app_secret="your_app_secret"
)

# è·å–è®¿é—®ä»¤ç‰Œ
token = client.get_access_token()

# ä¸Šä¼ åª’ä½“
media_id = client.upload_media(
    file_path: str,
    media_type: str  # "image" æˆ– "video"
)

# åˆ›å»ºè‰ç¨¿
draft_id = client.create_draft(
    title: str,
    content: str,
    cover_media_id: str
)
```

---

## 10. å¸¸è§é—®é¢˜

### 10.1 å®‰è£…å’Œé…ç½®

**Q1: å®‰è£…ä¾èµ–æ—¶æŠ¥é”™ "Microsoft Visual C++ 14.0 is required"ï¼Ÿ**

A: Windows ç”¨æˆ·éœ€è¦å®‰è£… Visual Studio Build Toolsï¼š
1. ä¸‹è½½ [Visual Studio Build Tools](https://visualstudio.microsoft.com/downloads/)
2. å®‰è£…"ä½¿ç”¨ C++ çš„æ¡Œé¢å¼€å‘"ç»„ä»¶
3. é‡æ–°è¿è¡Œ `pip install -r requirements.txt`

**Q2: FFmpeg å®‰è£…åæ— æ³•è¯†åˆ«ï¼Ÿ**

A: ç¡®ä¿ FFmpeg å·²æ·»åŠ åˆ°ç³»ç»Ÿ PATHï¼š
```bash
# æ£€æŸ¥ FFmpeg ç‰ˆæœ¬
ffmpeg -version

# å¦‚æœæç¤ºæ‰¾ä¸åˆ°å‘½ä»¤ï¼Œéœ€è¦æ·»åŠ åˆ° PATH
# Windows: å°† FFmpeg bin ç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡
# macOS/Linux: æ·»åŠ åˆ° ~/.bash_profile æˆ– ~/.zshrc
export PATH="/path/to/ffmpeg/bin:$PATH"
```

**Q3: å¦‚ä½•è·å–å¾®ä¿¡å…¬ä¼—å·çš„ AppID å’Œ AppSecretï¼Ÿ**

A:
1. ç™»å½• [å¾®ä¿¡å…¬ä¼—å¹³å°](https://mp.weixin.qq.com/)
2. è¿›å…¥"å¼€å‘" â†’ "åŸºæœ¬é…ç½®"
3. å¦‚æœæ²¡æœ‰ AppSecretï¼Œç‚¹å‡»"é‡ç½®"ç”Ÿæˆ
4. å°†å€¼å¤åˆ¶åˆ° `.env` æ–‡ä»¶

### 10.2 è§†é¢‘ä¸‹è½½

**Q4: è§†é¢‘ä¸‹è½½å¤±è´¥ï¼Œæç¤º "Video unavailable"ï¼Ÿ**

A: å¯èƒ½çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆï¼š
1. è§†é¢‘éœ€è¦ç™»å½•ï¼šæä¾› cookies.txt æ–‡ä»¶
2. è§†é¢‘åœ°åŒºé™åˆ¶ï¼šä½¿ç”¨ VPN
3. è§†é¢‘å·²åˆ é™¤ï¼šæ£€æŸ¥è§†é¢‘æ˜¯å¦ä»ç„¶å¯ç”¨

**Q5: ä¸‹è½½é€Ÿåº¦å¤ªæ…¢ï¼Ÿ**

A: ä¼˜åŒ–å»ºè®®ï¼š
1. ä½¿ç”¨æ›´å¿«çš„ç½‘ç»œè¿æ¥
2. é™ä½è§†é¢‘è´¨é‡ï¼ˆ720p â†’ 480pï¼‰
3. ä½¿ç”¨ä»£ç†æˆ– CDN åŠ é€Ÿ

**Q6: å¦‚ä½•ä¸‹è½½éœ€è¦ç™»å½•çš„ YouTube è§†é¢‘ï¼Ÿ**

A:
1. å®‰è£…æµè§ˆå™¨æ‰©å±• "Get cookies.txt LOCALLY"
2. ç™»å½• YouTube
3. å¯¼å‡º cookies.txt
4. åœ¨é…ç½®ä¸­è®¾ç½® `VIDEO_COOKIES_PATH=./cookies.txt`

### 10.3 å†…å®¹åˆ†æ

**Q7: NotebookLM æŠ¥å‘Šçš„æ ¼å¼æœ‰ä»€ä¹ˆè¦æ±‚ï¼Ÿ**

A: æŠ¥å‘Šå¿…é¡»åŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š
- `Summary` æˆ– `æ‘˜è¦`ï¼šè§†é¢‘æ¦‚è¦
- `Key Techniques` æˆ– `å…³é”®æŠ€æœ¯`ï¼šæŠ€æœ¯ç‚¹åˆ—è¡¨
- `Key Moments` æˆ– `å…³é”®æ—¶åˆ»`ï¼šæ—¶é—´æˆ³åˆ—è¡¨ï¼Œæ ¼å¼ä¸º `åˆ†:ç§’ - æè¿°`

**Q8: è§†é¢‘æ²¡æœ‰å­—å¹•æ€ä¹ˆåŠï¼Ÿ**

A: MotoStep æ”¯æŒæ— å­—å¹•æ¨¡å¼ï¼š
1. ä»…ä½¿ç”¨ NotebookLM æŠ¥å‘Šä¸­çš„æ—¶é—´æˆ³
2. è‡ªåŠ¨è·³è¿‡å­—å¹•åˆ†ææ­¥éª¤
3. ç¡®ä¿æŠ¥å‘Šä¸­çš„æ—¶é—´æˆ³å‡†ç¡®å³å¯

**Q9: åˆ†æç»“æœä¸å‡†ç¡®æ€ä¹ˆåŠï¼Ÿ**

A: ä¼˜åŒ–æ–¹æ³•ï¼š
1. æ”¹è¿› NotebookLM æç¤ºè¯ï¼Œè¦æ±‚æ›´è¯¦ç»†çš„åˆ†æ
2. æä¾›è‹±æ–‡å­—å¹•ï¼Œæé«˜æ—¶é—´æˆ³å‡†ç¡®æ€§
3. æ‰‹åŠ¨ç¼–è¾‘æŠ¥å‘Šï¼Œä¿®æ­£é”™è¯¯çš„æ—¶é—´æˆ³

### 10.4 åª’ä½“ç”Ÿæˆ

**Q10: GIF æ–‡ä»¶å¤ªå¤§ï¼Ÿ**

A: å‡å° GIF å°ºå¯¸çš„æ–¹æ³•ï¼š
```python
# åœ¨ .env æ–‡ä»¶ä¸­è°ƒæ•´
GIF_WIDTH=320          # å‡å°å®½åº¦ï¼ˆé»˜è®¤480ï¼‰
GIF_FPS=8              # é™ä½å¸§ç‡ï¼ˆé»˜è®¤10ï¼‰
GIF_USE_PALETTE=true   # ä½¿ç”¨è°ƒè‰²æ¿ä¼˜åŒ–
```

**Q11: æˆªå›¾è´¨é‡ä¸å¤Ÿé«˜ï¼Ÿ**

A: æé«˜æˆªå›¾è´¨é‡ï¼š
```python
# åœ¨ .env æ–‡ä»¶ä¸­è°ƒæ•´
SCREENSHOT_QUALITY=5   # 1-5ï¼Œè¶Šé«˜è´¨é‡è¶Šé«˜ï¼ˆé»˜è®¤2ï¼‰
```

**Q12: å¦‚ä½•ä¿®æ”¹æ°´å°æ–‡å­—å’Œä½ç½®ï¼Ÿ**

A: å½“å‰ç‰ˆæœ¬æ°´å°æ–‡å­—å¯åœ¨ `.env` ä¸­ä¿®æ”¹ï¼š
```bash
WATERMARK_TEXT=YourText
```

è‡ªå®šä¹‰ä½ç½®éœ€è¦ä¿®æ”¹æºä»£ç  `src/media_processor/processor.py`

### 10.5 å†…å®¹ç”Ÿæˆ

**Q13: ç”Ÿæˆçš„æ–‡ç« æ ¼å¼ä¸ç¬¦åˆè¦æ±‚ï¼Ÿ**

A: å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿ï¼š
```python
# åˆ›å»ºè‡ªå®šä¹‰æ¨¡æ¿
# å‚è§ 8.2 èŠ‚"è‡ªå®šä¹‰æ–‡ç« æ¨¡æ¿"

# ä½¿ç”¨æ¨¡æ¿
composer.compose(..., template_path="your_template.html")
```

**Q14: å¦‚ä½•è°ƒæ•´æ–‡ç« é•¿åº¦ï¼Ÿ**

A: åœ¨ `.env` æ–‡ä»¶ä¸­è®¾ç½®ï¼š
```bash
ARTICLE_MIN_LENGTH=5000   # æœ€å°å­—æ•°
ARTICLE_MAX_LENGTH=10000  # æœ€å¤§å­—æ•°
```

æˆ–åœ¨ NotebookLM æŠ¥å‘Šä¸­æ§åˆ¶å†…å®¹è¯¦ç»†ç¨‹åº¦ã€‚

### 10.6 å¾®ä¿¡å‘å¸ƒ

**Q15: å¾®ä¿¡å‘å¸ƒå¤±è´¥ï¼Œæç¤º "access_token invalid"ï¼Ÿ**

A: æ£€æŸ¥ï¼š
1. AppID å’Œ AppSecret æ˜¯å¦æ­£ç¡®
2. æ˜¯å¦å·²è·å–æ­£ç¡®çš„ access_token
3. IP åœ°å€æ˜¯å¦åœ¨å¾®ä¿¡ç™½åå•ä¸­

**Q16: ä¸Šä¼ å›¾ç‰‡åˆ°å¾®ä¿¡å¤±è´¥ï¼Ÿ**

A: å¾®ä¿¡å›¾ç‰‡é™åˆ¶ï¼š
- æ ¼å¼ï¼šJPG/PNG
- å¤§å°ï¼šâ‰¤ 2MB
- å°ºå¯¸ï¼šå»ºè®® 900Ã—500 åƒç´ 

---

## 11. æ•…éšœæ’é™¤

### 11.1 æ—¥å¿—æŸ¥çœ‹

MotoStep ä½¿ç”¨ `loguru` è®°å½•æ—¥å¿—ï¼š

```python
from loguru import logger

# é…ç½®æ—¥å¿—
logger.add(
    "./logs/motostep_{time}.log",    # æ—¥å¿—æ–‡ä»¶
    rotation="1 day",                 # æ¯å¤©è½®æ¢
    retention="7 days",               # ä¿ç•™7å¤©
    level="INFO"                      # æ—¥å¿—çº§åˆ«
)
```

æŸ¥çœ‹æ—¥å¿—ï¼š
```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -f ./logs/motostep_2026-01-30.log

# æœç´¢é”™è¯¯
grep "ERROR" ./logs/motostep_*.log
```

### 11.2 å¸¸è§é”™è¯¯ä»£ç 

| é”™è¯¯ä¿¡æ¯ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|---------|------|---------|
| `VideoUnavailable` | è§†é¢‘ä¸å¯ç”¨ | æ£€æŸ¥è§†é¢‘URLï¼Œç¡®è®¤è§†é¢‘å¯è®¿é—® |
| `SubtitleNotFound` | å­—å¹•ä¸å­˜åœ¨ | ä½¿ç”¨æ— å­—å¹•æ¨¡å¼ï¼Œæˆ–æä¾›å…¶ä»–è¯­è¨€çš„å­—å¹• |
| `AnalysisFailed` | åˆ†æå¤±è´¥ | æ£€æŸ¥ NotebookLM æŠ¥å‘Šæ ¼å¼ |
| `FFmpegError` | FFmpeg é”™è¯¯ | ç¡®è®¤ FFmpeg å·²æ­£ç¡®å®‰è£… |
| `WeChatAuthFailed` | å¾®ä¿¡è®¤è¯å¤±è´¥ | æ£€æŸ¥ AppID å’Œ AppSecret |
| `NetworkError` | ç½‘ç»œé”™è¯¯ | æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œå°è¯•ä½¿ç”¨ä»£ç† |

### 11.3 è°ƒè¯•æ¨¡å¼

å¯ç”¨è°ƒè¯•æ¨¡å¼ï¼š

```python
# åœ¨ .env æ–‡ä»¶ä¸­è®¾ç½®
APP_ENV=development
APP_LOG_LEVEL=DEBUG
FLASK_DEBUG=true
```

æˆ–ç›´æ¥åœ¨ä»£ç ä¸­ï¼š

```python
import logging
logging.basicConfig(level=logging.DEBUG)
```

### 11.4 æ€§èƒ½åˆ†æ

```python
import time
from functools import wraps

def timing(func):
    """è®¡æ—¶è£…é¥°å™¨"""
    @wraps(func)
    def wrapper(*args, **kwargs):
        start = time.time()
        result = func(*args, **kwargs)
        end = time.time()
        logger.info(f"{func.__name__} è€—æ—¶: {end - start:.2f}ç§’")
        return result
    return wrapper

# ä½¿ç”¨
@timing
def process_video(url):
    # ...
    pass
```

### 11.5 æµ‹è¯•å„æ¨¡å—

```bash
# æµ‹è¯•è§†é¢‘ä¸‹è½½
python test_video_fetcher.py

# æµ‹è¯•åª’ä½“å¤„ç†
python test_media_processor.py

# æµ‹è¯•å†…å®¹åˆ†æ
python test_content_analyzer.py

# æµ‹è¯•æ–‡ç« ç”Ÿæˆ
python test_content_composer.py

# å®Œæ•´æµç¨‹æµ‹è¯•
python test_end_to_end.py
```

---

## 12. é™„å½•

### 12.1 é¡¹ç›®ç»“æ„è¯¦è§£

```
motostep/
â”œâ”€â”€ .env                          # ç¯å¢ƒé…ç½®ï¼ˆéœ€åˆ›å»ºï¼‰
â”œâ”€â”€ .env.example                  # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ .gitignore                    # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ config.py                     # Pydanticé…ç½®ç®¡ç†
â”œâ”€â”€ requirements.txt              # Pythonä¾èµ–åˆ—è¡¨
â”‚
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ video_fetcher/            # è§†é¢‘è·å–æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ fetcher.py            # VideoFetcherç±»
â”‚   â”‚
â”‚   â”œâ”€â”€ content_analyzer/         # å†…å®¹åˆ†ææ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ analyzer.py           # ContentAnalyzerç±»
â”‚   â”‚   â”œâ”€â”€ notebooklm_helper.py  # NotebookLMè¾…åŠ©
â”‚   â”‚   â””â”€â”€ timestamp_extractor.py # æ—¶é—´æˆ³æå–
â”‚   â”‚
â”‚   â”œâ”€â”€ media_processor/          # åª’ä½“å¤„ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ processor.py          # MediaProcessorç±»
â”‚   â”‚   â””â”€â”€ ffmpeg_wrapper.py     # FFmpegåŒ…è£…å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ content_composer/         # å†…å®¹åˆæˆæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ composer.py           # ContentComposerç±»
â”‚   â”‚
â”‚   â”œâ”€â”€ wechat_publisher/         # å¾®ä¿¡å‘å¸ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ client.py             # WeChatClientç±»
â”‚   â”‚   â””â”€â”€ draft_manager.py      # DraftManagerç±»
â”‚   â”‚
â”‚   â””â”€â”€ models/                   # æ•°æ®æ¨¡å‹
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ video.py              # VideoAnalysis, KeyMomentç­‰
â”‚       â””â”€â”€ article.py            # Articleç›¸å…³æ¨¡å‹
â”‚
â”œâ”€â”€ output/                       # è¾“å‡ºç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”‚   â”œâ”€â”€ videos/                   # ä¸‹è½½çš„è§†é¢‘
â”‚   â”œâ”€â”€ subtitles/                # æå–çš„å­—å¹•
â”‚   â”œâ”€â”€ reports/                  # AIåˆ†ææŠ¥å‘Š
â”‚   â”œâ”€â”€ images/                   # ç”Ÿæˆçš„åª’ä½“æ–‡ä»¶
â”‚   â”œâ”€â”€ analysis/                 # åˆ†æç»“æœJSON
â”‚   â””â”€â”€ articles/                 # ç”Ÿæˆçš„æ–‡ç« 
â”‚
â”œâ”€â”€ temp/                         # ä¸´æ—¶æ–‡ä»¶
â”œâ”€â”€ logs/                         # æ—¥å¿—æ–‡ä»¶
â”‚
â”œâ”€â”€ tests/                        # å•å…ƒæµ‹è¯•ï¼ˆæœªå®ç°ï¼‰
â”‚
â”œâ”€â”€ test_*.py                     # é›†æˆæµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ test_video_fetcher.py
â”‚   â”œâ”€â”€ test_media_processor.py
â”‚   â”œâ”€â”€ test_content_analyzer.py
â”‚   â”œâ”€â”€ test_content_composer.py
â”‚   â””â”€â”€ test_end_to_end.py
â”‚
â””â”€â”€ docs/                         # æ–‡æ¡£ï¼ˆæœªåˆ›å»ºï¼‰
```

### 12.2 ä¾èµ–é¡¹è¯´æ˜

| ä¾èµ–åŒ… | ç‰ˆæœ¬ | ç”¨é€” |
|--------|------|------|
| yt-dlp | 2025.12.08 | YouTube è§†é¢‘ä¸‹è½½ |
| httpx | 0.27.0 | HTTP å®¢æˆ·ç«¯ |
| jinja2 | 3.1.6 | æ¨¡æ¿å¼•æ“ |
| pydantic | 2.10.4 | æ•°æ®éªŒè¯ |
| pydantic-settings | 2.7.1 | é…ç½®ç®¡ç† |
| loguru | 0.7.3 | æ—¥å¿—è®°å½• |

### 12.3 ç¯å¢ƒå˜é‡å®Œæ•´åˆ—è¡¨

å‚è§ [4.1 ç¯å¢ƒå˜é‡é…ç½®](#41-ç¯å¢ƒå˜é‡é…ç½®-env)

### 12.4 NotebookLM æŠ¥å‘Šç¤ºä¾‹

å®Œæ•´ç¤ºä¾‹å‚è§ [6.1 å‡†å¤‡ NotebookLM æŠ¥å‘Š](#61-å‡†å¤‡-notebooklm-æŠ¥å‘Š)

### 12.5 è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### 12.6 å¼€å‘è·¯çº¿å›¾

| é˜¶æ®µ | åŠŸèƒ½ | çŠ¶æ€ | é¢„è®¡å®Œæˆ |
|------|------|------|---------|
| 1 | é¡¹ç›®åˆå§‹åŒ– | âœ… å®Œæˆ | 2026-01-27 |
| 2 | è§†é¢‘è·å–æ¨¡å— | âœ… å®Œæˆ | 2026-01-28 |
| 3 | åª’ä½“å¤„ç†æ¨¡å— | âœ… å®Œæˆ | 2026-01-29 |
| 4 | å†…å®¹åˆ†ææ¨¡å— | âœ… å®Œæˆ | 2026-01-29 |
| 5 | å†…å®¹åˆæˆæ¨¡å— | âœ… å®Œæˆ | 2026-01-29 |
| 6 | å¾®ä¿¡å‘å¸ƒæ¨¡å— | ğŸš§ å¼€å‘ä¸­ | 2026-02-05 |
| 7 | Web ç•Œé¢ | â³ è®¡åˆ’ä¸­ | 2026-02-15 |
| 8 | æ‰¹é‡å¤„ç†ä¼˜åŒ– | â³ è®¡åˆ’ä¸­ | 2026-02-20 |

### 12.7 è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

### 12.8 è”ç³»æ–¹å¼

- é¡¹ç›®åœ°å€ï¼šhttps://github.com/zhaoran30184898-jpg/motostep
- é—®é¢˜åé¦ˆï¼šhttps://github.com/zhaoran30184898-jpg/motostep/issues
- é‚®ç®±ï¼šï¼ˆå¾…è¡¥å……ï¼‰

### 12.9 è‡´è°¢

æœ¬é¡¹ç›®å¤ç”¨äº†ä»¥ä¸‹å¼€æºé¡¹ç›®çš„ä»£ç ï¼š

1. **ytreport-dirtbike**
   - FFmpeg å‘½ä»¤ï¼ˆæˆªå›¾ã€GIFã€æ°´å°ï¼‰
   - HTML æŠ¥å‘Šæ¨¡æ¿
   - å·¥ä½œæµç¨‹å‚è€ƒ

2. **wechat-PA**
   - WeChatClientï¼ˆå¾®ä¿¡ API å®¢æˆ·ç«¯ï¼‰
   - DraftManagerï¼ˆè‰ç¨¿ç®¡ç†å™¨ï¼‰
   - Article æ•°æ®æ¨¡å‹

---

## ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´ |
|------|------|------|
| v0.1.0-alpha | 2026-01-30 | åˆå§‹ç‰ˆæœ¬ï¼Œæ ¸å¿ƒåŠŸèƒ½å®Œæˆ |

---

**æ–‡æ¡£ç»“æŸ**

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issue æˆ– Pull Requestï¼
